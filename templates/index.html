<!DOCTYPE html>
<html>
<head>
    <title>Chatbot</title>
    <link rel="stylesheet" href="/static/style.css"> <!-- If you have a CSS file -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#feedbackForm').hide(); // Hide the form initially

            $('#feedbackButton').click(function() {
                $('#feedbackForm').slideToggle(); // Toggle the visibility of the form on button click
            });
        });

        function sendMessage(){
            var message = $("#messageInput").val();
            $.post("/ask", {messageText: message}, function(data, status){
                $("#chatbox").append("\n" + "You: " + message + "\n" + "Bot: " + data.answer);
                $("#messageInput").val(''); // Clear the input after sending
            });
        }

        function submitFeedback(){
            var name = $("#name").val();
            var email = $("#email").val();
            var feedback = $("#feedback").val();
            $.post("/submit_feedback", {name: name, email: email, feedback: feedback}, function(data, status){
                // You can add more response handling here
                alert("Feedback submitted successfully!");
                $('#feedbackForm').slideUp(); // Hide the form after submission
                // Clear the feedback form fields
                $("#name").val('');
                $("#email").val('');
                $("#feedback").val('');
            });
        }
    </script>
</head>
<body>

<div>
    <textarea id="chatbox" readonly></textarea><br>
    <input type="text" id="messageInput">
    <button onclick="sendMessage()">Send</button>
    <button id="feedbackButton">Feedback</button> <!-- Feedback button -->
</div>

<!-- Feedback form -->
<div id="feedbackForm" style="display:none;">
    <input type="text" id="name" placeholder="Your name"><br>
    <input type="text" id="email" placeholder="Your email"><br>
    <textarea id="feedback" placeholder="Your feedback"></textarea><br>
    <button onclick="submitFeedback()">Submit Feedback</button>
</div>

</body>
</html>
